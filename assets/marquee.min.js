/*! jQuery Marquee v1.15 | (c) Conrad Feyt | conrad.feyt@gmail.com */
function marqueeObj(e){this.el=e,this.counter=0,this.getPosition=getCurrentPosition,this.name="",this.timeLeft=0,this.currentPos=0,this.distanceLeft=0,this.totalDistance=0,this.contentWidth=0,this.endPoint=0,this.duration=0,this.hovered=!1,this.padding=0}function getCurrentPosition(){return this.currentPos=parseInt($(this.name).css("right")),this.currentPos}function createMarquee(e){var a={duration:6e4,padding:20,marquee_class:".marquee",container_class:".container",sibling_class:0,hover:!0},n=$.extend({},a,e);if(0==$(n.marquee_class).width())return void console.error("FATAL: marquee css or children css not correct. Width is either set to 0 or the element is collapsing. Make sure overflow is set on the marquee, and the children are postitioned relatively");if("undefined"==typeof $(n.marquee_class))return void console.error("FATAL: marquee class not valid");if("undefined"==typeof $(n.container_class))return void console.error("FATAL: marquee container class not valid");if(0!=n.sibling_class&&"undefined"==typeof $(n.sibling_class))return void console.error("FATAL: sibling class container class not valid");var n=$.extend({},a,e),r=$(n.marquee_class).html(),t=$(n.container_class).width(),o=$(n.marquee_class).width();if(0==n.sibling_class)var s=0;else var s=$(n.sibling_class).width();var u=Math.ceil(t/o);$(n.marquee_class).remove(),2>=u?u=3:u++;var d=(o+n.padding)*u,c=-(d-t),l=t-c;for(i=0;i<u;i++){if(1==n.hover)var m=$('<div class="marquee-'+(i+1)+'">'+r+"</div>").mouseenter(function(){if(1==focused&&0==marqueeHovered){marqueeHovered=!0;for(var e in marqueeSpawned)marqueeSpawned[e].el.clearQueue().stop(),marqueeSpawned[e].hovered=!0}}).mouseleave(function(){if(1==focused&&1==marqueeHovered){for(var e in marqueeSpawned)marqueeManager(marqueeSpawned[e]);marqueeHovered=!1}});else var m=$('<div class="marquee-'+(i+1)+'">'+r+"</div>");marqueeSpawned[i]=new marqueeObj(m),$(n.container_class).append(m),marqueeSpawned[i].currentPos=s+o*i+n.padding*i,marqueeSpawned[i].name=".marquee-"+(i+1),marqueeSpawned[i].totalDistance=l,marqueeSpawned[i].containerWidth=t,marqueeSpawned[i].contentWidth=o,marqueeSpawned[i].endPoint=c,marqueeSpawned[i].duration=n.duration,marqueeSpawned[i].padding=n.padding,marqueeSpawned[i].el.css("right",marqueeSpawned[i].currentPos+n.padding+"px"),1==focused&&marqueeManager(marqueeSpawned[i])}}function marqueeManager(e){0==e.hovered?e.counter>0?(e.timeLeft=e.duration,e.el.css("right",e.containerWidth+"px"),e.currentPos=e.containerWidth,e.distanceLeft=e.totalDistance-(e.containerWidth-e.getPosition())):e.timeLeft=(e.totalDistance-(e.containerWidth-e.getPosition()))/e.totalDistance*e.duration:(e.hovered=!1,e.currentPos=parseInt(e.el.css("right")),e.distanceLeft=e.totalDistance-(e.containerWidth-e.getPosition()),e.timeLeft=(e.totalDistance-(e.containerWidth-e.currentPos))/e.totalDistance*e.duration),marqueeAnim(e)}function marqueeAnim(e){e.counter++,e.el.clearQueue().animate({right:e.endPoint+"px"},e.timeLeft,"linear",function(){marqueeManager(e)})}var marqueeSpawned=[],marqueeHovered=!1;if(document.hasFocus())var focused=!0;else var focused=!1;window.onfocus=function(){focused=!0;for(var e in marqueeSpawned)marqueeManager(marqueeSpawned[e])},window.onblur=function(){focused=!1;for(var e in marqueeSpawned)marqueeSpawned[e].el.clearQueue().stop(),marqueeSpawned[e].hovered=!0};
